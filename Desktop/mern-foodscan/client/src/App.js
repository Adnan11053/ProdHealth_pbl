import React from 'react'; import { Routes, Route, Navigate } from 'react-router-dom'; import Header from './components/Header'; import Home from './pages/Home'; import Login from './pages/Login'; import Signup from './pages/Signup'; import Scan from './pages/Scan'; import Results from './pages/Results'; import Preferences from './pages/Preferences'; import History from './pages/History';
function Protected({children}){ const token = localStorage.getItem('token'); return token?children:<Navigate to="/login" />; }
export default function App(){ return (<div><Header /><Routes><Route path="/" element={<Protected><Home/></Protected>} /><Route path="/scan" element={<Protected><Scan/></Protected>} /><Route path="/results/:barcode" element={<Protected><Results/></Protected>} /><Route path="/preferences" element={<Protected><Preferences/></Protected>} /><Route path="/history" element={<Protected><History/></Protected>} /><Route path="/login" element={<Login/>} /><Route path="/signup" element={<Signup/>} /></Routes></div>); }
